<apex:page standardController="Sprint__c" extensions="VirtualWall_VfExt" >
	<apex:include pagename="VirtualWallCss" />
	<script src="{!urlFor($Resource.scriptaculous190, '/scriptaculous-js-1.9.0/lib/prototype.js')}"
		type="text/javascript" />
	<script src="{!urlFor($Resource.scriptaculous190, '/scriptaculous-js-1.9.0/src/scriptaculous.js')}"
		type="text/javascript" />
	<link href="http://fonts.googleapis.com/css?family=Reenie+Beanie:regular" rel="stylesheet" type="text/css" />

	<script type="text/javascript">
		function updateRecord(container) {
		    var bolSuccess = false;
		    var strSerializedContainer = Sortable.serialize(container);
		    //alert('### DEBUG: serialize: ' + strSerializedContainer);
		    VirtualWall_VfExt.updateTasks(strSerializedContainer, function(result, event) {
	    		//alert ('### DEBUG: callbackFunction');
			});
		    return bolSuccess;
		}
	</script>

	<article>
	    <div id="container" >
		    <div id="repeatWorks" >
			    <apex:repeat id="works" value="{!listWorkAndTasks}" var="workAndTasks">
			    	<c:VirtualWallWork work="{!workAndTasks}" />
			    </apex:repeat>
		    </div>
		</div>
	</article>
	<script type="text/javascript">
		// <![CDATA[
		Sortable.create('repeatWorks',{tag:'span'});
		// ]]>
	</script>
</apex:page>