<apex:page standardController="Sprint__c" extensions="VirtualWall_VfExt" >
	<apex:include pagename="VirtualWallCss" />
	<script src="{!urlFor($Resource.scriptaculous190, '/scriptaculous-js-1.9.0/lib/prototype.js')}"
		type="text/javascript" />
	<script src="{!urlFor($Resource.scriptaculous190, '/scriptaculous-js-1.9.0/src/scriptaculous.js')}"
		type="text/javascript" />

	<script type="text/javascript">
		function updateRecord(container) {
		    var bolSuccess = false;
		    var strSerializedContainer = Sortable.serialize(container);
		    //alert('### DEBUG: serialize: ' + strSerializedContainer);
		    VirtualWall_VfExt.updateTasks(strSerializedContainer, function(result, event) {
	    		//alert ('### DEBUG: callbackFunction');
			});
		    return bolSuccess;
		}
		function theCallbackFunction() {
    		alert ('### DEBUG: callbackFunction'); 
		}
	</script>

	<article>
	    <div id="container" >
	    	<div id="scrumHeader" class="headerRow">
				<div id="headerWork" class="cell" >Work</div>
				<div id="headerStatuses" class="">
					<div id="headerToDo" class="cell headerCell" >To Do</div>
					<div id="headerInProgress" class="cell headerCell" >In Progress</div>
					<div id="headerVerify" class="cell headerCell" >Verify</div>
					<div id="headerDone" class="cell headerCell" >Done</div>
				</div>
			</div>
		    <div id="repeatWorks" >
			    <apex:repeat id="works" value="{!listWorkAndTasks}" var="workAndTasks">
			    	<c:VirtualWallWork work="{!workAndTasks}" />
			    </apex:repeat>
		    </div>
		</div>
	</article>
	<script type="text/javascript">
		// <![CDATA[
		Sortable.create('repeatWorks',{tag:'span'});
		// ]]>
	</script>
</apex:page>